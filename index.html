<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"> <!-- ç¦æ­¢ç”¨æˆ¶ç¸®æ”¾ -->
    <title>è–èª•ç¯€å°é©šå–œï¼</title>
    <style>
        body {
            margin: 0;
            background: url('https://images.unsplash.com/photo-1608889175853-c6f88217032b') no-repeat center center fixed;
            background-size: cover;
            font-family: 'Arial', sans-serif;
            color: white;
            display: flex;
            justify-content: center;
            align-items: flex-start; /* å°‡å…§å®¹å‘ä¸Šå°é½Š */
            height: 100vh;
            overflow: hidden;
        }
        h1 {
            margin: 0;
        }
        #game-container {
            position: relative;
            width: 800px; /* å›ºå®šå¯¬åº¦ */
            height: 600px; /* å›ºå®šé«˜åº¦ */
            overflow: hidden;
            border: 5px solid transparent;
            border-image: linear-gradient(to right, red, green) 1; /* è–èª•ç´…ç¶ é‚Šæ¡† */
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.8); /* èƒŒæ™¯é™°å½± */
            background: rgba(0, 0, 0, 0.2); /* å¢å¼·é‚Šç•ŒèƒŒæ™¯çš„å°æ¯” */
        }
        .gift {
            position: absolute;
            width: 40px;
            height: 40px;
            background-size: contain;
            background-repeat: no-repeat;
            cursor: pointer;
        }
        #score, #timer, #current-points,#happy {   
            font-size: 24px;
            margin: 10px;
            color: black; /* ä¿®æ”¹åˆ†æ•¸é¡¯ç¤ºé¡è‰²ç‚ºé»‘è‰² */
        }
        #info {
            text-align: center;
            margin-bottom: 20px;
        }
        #start-button {
            font-size: 24px;
            padding: 10px 20px;
            margin-top: 20px;
            cursor: pointer;
        }
        #end-image {
            display: none;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 10;
        }
    </style>
</head>
<body>
    <div>
        <div id="info">
            <div id="happy">Merry Christmas! ğŸ„</div>
            <div id="score">ç¸½åˆ†æ•¸: 0</div>
            <div id="current-points">é“å…·åˆ†æ•¸: 0</div>
            <div id="timer">å‰©é¤˜æ™‚é–“: 20</div>
        </div>
        <button id="start-button">é–‹å§‹ï¼</button>
        <div id="game-container">
            <img id="end-image" src="https://i.imgur.com/644YtNj.jpeg" alt="End Image">
        </div>
    </div>

    <script>
        // ç²å–éŠæˆ²å®¹å™¨å’Œé¡¯ç¤ºå…ƒç´ 
        const gameContainer = document.getElementById('game-container');
        const scoreDisplay = document.getElementById('score');
        const currentPointsDisplay = document.getElementById('current-points');
        const timerDisplay = document.getElementById('timer');
        const startButton = document.getElementById('start-button');
        const endImage = document.getElementById('end-image');

        let score = 0; // ç¸½åˆ†æ•¸
        let currentPoints = 0; // ç•¶å‰ä¸€æ¬¡é»æ“Šçš„åˆ†æ•¸
        let timeLeft = 5; // éŠæˆ²æ™‚é–“ 5 ç§’
        let giftInterval;
        let timerInterval;

        // éš¨æ©Ÿç”Ÿæˆç¦®ç‰©
        function createGift() {
            const gift = document.createElement('div'); // å‰µå»ºç¦®ç‰©å…ƒç´ 
            gift.classList.add('gift');
            
            // éš¨æ©Ÿé¸æ“‡è–èª•ç‰©å“
            const items = [
                'https://cdn-icons-png.flaticon.com/128/18604/18604438.png', 
                'https://cdn-icons-png.flaticon.com/128/18604/18604441.png',   
                'https://cdn-icons-png.flaticon.com/128/18604/18604443.png', 
                'https://cdn-icons-png.flaticon.com/128/18604/18604455.png', 
                'https://cdn-icons-png.flaticon.com/128/18604/18604439.png', 
                'https://cdn-icons-png.flaticon.com/128/18604/18604450.png'  
            ];
            const randomItem = items[Math.floor(Math.random() * items.length)]; // éš¨æ©Ÿé¸æ“‡åœ–ç‰‡
            gift.style.backgroundImage = `url('${randomItem}')`;
            gift.style.top = Math.random() * (gameContainer.clientHeight - 50) + 'px'; // éš¨æ©Ÿå‚ç›´ä½ç½®
            gift.style.left = Math.random() * (gameContainer.clientWidth - 50) + 'px'; // éš¨æ©Ÿæ°´å¹³ä½ç½®

            // æª¢æŸ¥ç¦®ç‰©æ˜¯å¦è¶…å‡ºé‚Šç•Œï¼Œé€²è¡Œèª¿æ•´
            const maxTop = gameContainer.clientHeight - 50;
            const maxLeft = gameContainer.clientWidth - 50;
            if (parseFloat(gift.style.top) < 0) gift.style.top = '0px';
            if (parseFloat(gift.style.left) < 0) gift.style.left = '0px';
            if (parseFloat(gift.style.top) > maxTop) gift.style.top = `${maxTop}px`;
            if (parseFloat(gift.style.left) > maxLeft) gift.style.left = `${maxLeft}px`;

            // é»æ“Šç¦®ç‰©çš„äº‹ä»¶è™•ç†
            gift.addEventListener('click', () => {
                const points = Math.floor(Math.random() * 10) + 1; // ç²å¾—éš¨æ©Ÿåˆ†æ•¸ (1-10)
                score += points;
                currentPoints = points;
                scoreDisplay.textContent = `ç¸½åˆ†æ•¸: ${score}`; // æ›´æ–°ç¸½åˆ†æ•¸
                currentPointsDisplay.textContent = `é“å…·åˆ†æ•¸: ${currentPoints}`; // æ›´æ–°ç•¶å‰åˆ†æ•¸
                gameContainer.removeChild(gift); // ç§»é™¤å·²é»æ“Šçš„ç¦®ç‰©
            });

            gameContainer.appendChild(gift); // å°‡ç¦®ç‰©æ·»åŠ åˆ°éŠæˆ²å®¹å™¨ä¸­

            // 2 ç§’å¾Œè‡ªå‹•ç§»é™¤ç¦®ç‰©
            setTimeout(() => {
                if (gameContainer.contains(gift)) {
                    gameContainer.removeChild(gift);
                }
            }, 2000);
        }

        // å€’è¨ˆæ™‚å‡½æ•¸
        function startTimer() {
            timerInterval = setInterval(() => {
                timeLeft--;
                timerDisplay.textContent = `å‰©é¤˜æ™‚é–“: ${timeLeft}`; // æ›´æ–°å€’è¨ˆæ™‚

                if (timeLeft <= 0) {
                    clearInterval(timerInterval); // åœæ­¢è¨ˆæ™‚å™¨
                    clearInterval(giftInterval); // åœæ­¢ç”Ÿæˆç¦®ç‰©
                    alert(`éŠæˆ²çµæŸï¼æ‚¨çš„æœ€çµ‚å¾—åˆ†æ˜¯ ${score} åˆ†ï¼`); // é¡¯ç¤ºæœ€çµ‚åˆ†æ•¸
                    alert(`æ¯”æ¯”æœ€å²å®³ï¼ï¼`); 
                    alert(`ä»Šå¹´è–èª•ç¯€å¥½å¿™ï¼é›–ç„¶æˆ‘ä»Šå¤©ä¸åœ¨ä½ èº«é‚Šï¼ä½†æ¯”æ¯”ä¸€ç›´åœ¨æˆ‘å¿ƒä¸­ï¼`); 
                    alert(`æˆ‘æ„›ä½ ï¼ï¼ï¼è–èª•ç¯€å¿«æ¨‚ï¼ï¼`); 
                    endImage.style.display = 'block'; // é¡¯ç¤ºçµæŸåœ–ç‰‡
                    startButton.style.display = 'block'; // é¡¯ç¤ºé–‹å§‹æŒ‰éˆ•
                }
            }, 1000); // æ¯ç§’æ›´æ–°ä¸€æ¬¡
        }

        // é–‹å§‹éŠæˆ²å‡½æ•¸
        function startGame() {
            startButton.style.display = 'none'; // éš±è—é–‹å§‹æŒ‰éˆ•
            endImage.style.display = 'none'; // éš±è—çµæŸåœ–ç‰‡
            score = 0;
            currentPoints = 0;
            timeLeft = 20;
            scoreDisplay.textContent = `ç¸½åˆ†æ•¸: ${score}`;
            currentPointsDisplay.textContent = `ç¾åœ¨åˆ†æ•¸: ${currentPoints}`;
            timerDisplay.textContent = `å‰©é¤˜æ™‚é–“: ${timeLeft}`;
            startTimer(); // é–‹å§‹è¨ˆæ™‚å™¨
            giftInterval = setInterval(() => {
                if (timeLeft > 0) {
                    createGift(); // å‰µå»ºç¦®ç‰©
                }
            }, 800); // æ¯ 800 æ¯«ç§’å‰µå»ºä¸€å€‹ç¦®ç‰©
        }

        // ç¶å®šæŒ‰éˆ•é»æ“Šäº‹ä»¶
        startButton.addEventListener('click', startGame);
    </script>
</body>
</html>
